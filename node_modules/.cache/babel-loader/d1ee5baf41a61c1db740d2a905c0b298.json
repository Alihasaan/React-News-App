{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Github Projects\\\\news-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import Weather from\"./app_components/weather.component.jsx\";import\"bootstrap/dist/css/bootstrap.min.css\";import Form from\"./app_components/form.component\";import\"./App.css\";import{Alert}from'reactstrap';var API_key=\"e4d4431929f441568bdcc6cc7b55f8cc\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.getNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var country,countryCode,api_call,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();country=e.target.elements.country.value;countryCode=_this.getCountryCode(country);if(!country){_context.next=15;break;}_context.next=6;return fetch(\"http://newsapi.org/v2/top-headlines?country=\"+countryCode+\"&apiKey=\"+API_key);case 6:api_call=_context.sent;_context.next=9;return api_call.json();case 9:response=_context.sent;console.log(response);if(response.articles.length===0){console.log(\"Worng Country Code.\");_this.setState({countryCodeError:true});}else{_this.setState({countryCodeError:false});}_this.setState({articles:response.articles,error:false});_context.next=16;break;case 15:_this.setState({error:true});case 16:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={articles:[],error:false,countryCodeError:false};return _this;}_createClass(App,[{key:\"getCountryCode\",value:function getCountryCode(C){switch(true){case C==\"canada\"||C==\"Canada\"||C==\"CANADA\":return\"ca\";break;case C==\"usa\"||C==\"USA\"||C==\"America\"||C==\"US\"||C==\"us\":return\"us\";break;case C==\"france\"||C==\"France\"||C==\"FRANCE\":return\"fr\";break;case C==\"germany\"||C==\"Germany\"||C==\"GERMANY\":return\"de\";break;case C==\"russia\"||C==\"Russia\"||C==\"RUSSIA\":return\"de\";break;case C==\"turkey\"||C==\"Turkey\"||C==\"TURKEY\":return\"tr\";break;default:return C;}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"App\"},this.state.countryCodeError===true?React.createElement(Alert,{color:\"danger\"},\"Please enter a valid Country code \",React.createElement(\"a\",{href:\"https://newsapi.org/sources\",target:\"blank\",className:\"alert-link\"},\"Click here\"),\".To find your Country code.\"):null,React.createElement(Form,{loadweather:this.getNews,error:this.state.error}),React.createElement(Weather,{data:this.state.articles}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["D:/Github Projects/news-app/src/App.js"],"names":["React","Weather","Form","Alert","API_key","App","getNews","e","preventDefault","country","target","elements","value","countryCode","getCountryCode","fetch","api_call","json","response","console","log","articles","length","setState","countryCodeError","error","state","C","Component"],"mappings":"gzBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wCAApB,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,iCAAjB,CACA,MAAO,WAAP,CACA,OAASC,KAAT,KAAsB,YAAtB,CACA,GAAMC,CAAAA,OAAO,CAAG,kCAAhB,C,GACMC,CAAAA,G,yEACJ,cAAc,qCACZ,uEADY,MAiChBC,OAjCgB,0FAiCL,iBAAMC,CAAN,4JACTA,CAAC,CAACC,cAAF,GACMC,OAFG,CAEOF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,OAAlB,CAA0BG,KAFjC,CAGHC,WAHG,CAGS,MAAKC,cAAL,CAAoBL,OAApB,CAHT,KAINA,OAJM,gDAKgBM,CAAAA,KAAK,CAAE,+CAA+CF,WAA/C,CAA2D,UAA3D,CAAwET,OAA1E,CALrB,QAKDY,QALC,qCAMgBA,CAAAA,QAAQ,CAACC,IAAT,EANhB,QAMDC,QANC,eAOPC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,GAAGA,QAAQ,CAACG,QAAT,CAAkBC,MAAlB,GAA6B,CAAhC,CAAkC,CAChCH,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA,MAAKG,QAAL,CAAc,CAACC,gBAAgB,CAAG,IAApB,CAAd,EACD,CAHD,IAGK,CACH,MAAKD,QAAL,CAAc,CAACC,gBAAgB,CAAG,KAApB,CAAd,EACD,CACD,MAAKD,QAAL,CAAc,CACZF,QAAQ,CAAGH,QAAQ,CAACG,QADR,CAEZI,KAAK,CAAG,KAFI,CAAd,EAdO,+BAoBT,MAAKF,QAAL,CAAc,CAACE,KAAK,CAAG,IAAT,CAAd,EApBS,uDAjCK,+DAEZ,MAAKC,KAAL,CAAa,CACZL,QAAQ,CAAE,EADE,CAEZI,KAAK,CAAG,KAFI,CAGZD,gBAAgB,CAAE,KAHN,CAAb,CAFY,aAOf,C,sEACcG,C,CAAE,CACf,OAAQ,IAAR,EACE,IAAMA,CAAAA,CAAC,EAAI,QAAL,EAAiBA,CAAC,EAAG,QAArB,EAAgCA,CAAC,EAAG,QAA1C,CACE,MAAO,IAAP,CACA,MACF,IAAKA,CAAAA,CAAC,EAAI,KAAL,EAAcA,CAAC,EAAG,KAAlB,EAA2BA,CAAC,EAAG,SAA/B,EAA4CA,CAAC,EAAG,IAAhD,EAAwDA,CAAC,EAAG,IAAjE,CACE,MAAO,IAAP,CACA,MACF,IAAMA,CAAAA,CAAC,EAAI,QAAL,EAAiBA,CAAC,EAAG,QAArB,EAAgCA,CAAC,EAAG,QAA1C,CACE,MAAO,IAAP,CACA,MACF,IAAMA,CAAAA,CAAC,EAAI,SAAL,EAAkBA,CAAC,EAAG,SAAtB,EAAkCA,CAAC,EAAI,SAA7C,CACE,MAAO,IAAP,CACA,MACF,IAAMA,CAAAA,CAAC,EAAI,QAAL,EAAiBA,CAAC,EAAG,QAArB,EAAgCA,CAAC,EAAI,QAA3C,CACE,MAAO,IAAP,CACA,MACF,IAAMA,CAAAA,CAAC,EAAI,QAAL,EAAiBA,CAAC,EAAG,QAArB,EAAgCA,CAAC,EAAI,QAA3C,CACE,MAAO,IAAP,CACA,MACF,QAEA,MAAOA,CAAAA,CAAP,CArBF,CAuBD,C,uCAwBU,CACP,MACE,4BAAK,SAAS,CAAG,KAAjB,EACG,KAAKD,KAAL,CAAWF,gBAAX,GAA8B,IAA9B,CAAqC,oBAAC,KAAD,EAAO,KAAK,CAAC,QAAb,uCACJ,yBAAG,IAAI,CAAC,6BAAR,CAAsC,MAAM,CAAE,OAA9C,CAAsD,SAAS,CAAC,YAAhE,eADI,+BAArC,CAEW,IAHd,CAKE,oBAAC,IAAD,EACE,WAAW,CAAI,KAAKlB,OADtB,CAEE,KAAK,CAAI,KAAKoB,KAAL,CAAWD,KAFtB,EALF,CAQE,oBAAC,OAAD,EACE,IAAI,CAAG,KAAKC,KAAL,CAAWL,QADpB,EARF,CADF,CAcD,C,iBAxEerB,KAAK,CAAC4B,S,EA0ExB,cAAevB,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport Weather from \"./app_components/weather.component.jsx\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Form from \"./app_components/form.component\";\nimport \"./App.css\";\nimport { Alert } from 'reactstrap';\nconst API_key = \"e4d4431929f441568bdcc6cc7b55f8cc\";\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n     articles: []   ,\n     error : false,\n     countryCodeError: false\n    };\n}\ngetCountryCode(C){\n  switch (true) {\n    case  C == \"canada\" || C ==\"Canada\"|| C ==\"CANADA\"  :\n      return \"ca\";\n      break;\n    case C == \"usa\" || C ==\"USA\" || C ==\"America\" || C ==\"US\" || C ==\"us\": \n      return \"us\"\n      break;\n    case  C == \"france\" || C ==\"France\"|| C ==\"FRANCE\"  :\n      return \"fr\";\n      break;\n    case  C == \"germany\" || C ==\"Germany\"|| C == \"GERMANY\"  :\n      return \"de\";\n      break;\n    case  C == \"russia\" || C ==\"Russia\"|| C == \"RUSSIA\"  :\n      return \"de\";\n      break;  \n    case  C == \"turkey\" || C ==\"Turkey\"|| C == \"TURKEY\"  :\n      return \"tr\";\n      break;   \n    default :\n\n    return C  \n  }\n}\ngetNews  = async(e) => {\n  e.preventDefault();\n  const country = e.target.elements.country.value; \n  const countryCode=this.getCountryCode(country);\n  if(country){\n    const api_call = await fetch( \"http://newsapi.org/v2/top-headlines?country=\"+countryCode+\"&apiKey=\"+  API_key);\n    const response = await api_call.json();\n    console.log(response);\n    if(response.articles.length === 0){\n      console.log(\"Worng Country Code.\")\n      this.setState({countryCodeError : true})\n    }else{\n      this.setState({countryCodeError : false})\n    }\n    this.setState({\n      articles : response.articles,\n      error : false\n    });\n}\nelse{\n  this.setState({error : true})\n}\n}\n  render() {\n    return (\n      <div className = \"App\">\n        {this.state.countryCodeError===true ? <Alert color=\"danger\">\n        Please enter a valid Country code <a href=\"https://newsapi.org/sources\" target =\"blank\" className=\"alert-link\">Click here</a>.To find your Country code.\n         </Alert> : null}\n        \n        <Form \n          loadweather = {this.getNews} \n          error = {this.state.error}/>\n        <Weather\n          data ={this.state.articles}\n       />\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}